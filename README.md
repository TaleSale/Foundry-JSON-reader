# Анализатор журналов Foundry VTT

Это веб-инструмент, предназначенный для помощи пользователям и мастерам Foundry VTT в анализе их игровых данных. Вы можете загружать JSON-файлы для журналов, актеров и предметов прямо из вашего мира Foundry. Приложение предоставляет просмотрщик, имитирующий внешний вид интерфейса Foundry, и интегрируется с Google Gemini AI для ответов на вопросы о загруженном контенте.

## Особенности

- **Загрузка файлов:** Загружайте отдельные JSON-файлы для Журналов, Актеров и Предметов.
- **Управление миром:** Сохраняйте всю вашу сессию (все загруженные файлы и темы чата) в один "файл мира" и загружайте его позже.
- **Просмотрщик в стиле Foundry:** Просматривайте записи журналов, листы актеров и детали предметов со стилизацией, вдохновленной интерфейсом Foundry VTT.
- **Анализ с помощью ИИ:** Задавайте сложные вопросы о лоре вашего мира, характеристиках персонажей или свойствах предметов и получайте ответы от мощного ИИ-помощника.
- **Организация контента:** Создавайте папки и используйте перетаскивание для организации ваших журналов, актеров и предметов.
- **Внутренние ссылки:** Кликабельные ссылки в записях журнала (например, на другие страницы или актеров) полностью функциональны.

## Настройка для локальной разработки

Чтобы запустить это приложение на вашем компьютере, выполните следующие шаги.

### Требования

- [Node.js](https://nodejs.org/) (включая npm), установленный на вашей системе.

### Установка и настройка

1.  **Клонирование репозитория**
    Откройте ваш терминал или командную строку и клонируйте этот проект на ваш локальный компьютер:
    ```bash
    git clone https://github.com/your-username/your-repository-name.git
    cd your-repository-name
    ```

2.  **Установка зависимостей**
    Выполните следующую команду, чтобы установить все необходимые пакеты для проекта:
    ```bash
    npm install
    ```
    Это создаст папку `node_modules` в директории вашего проекта.

3.  **Настройка API-ключа**
    Приложению требуется API-ключ Google Gemini для работы.
    - Создайте новый файл с именем `.env` в корневой директории вашего проекта.
    - Откройте файл `.env` и добавьте следующую строку, заменив `ВАШ_GEMINI_API_КЛЮЧ` на ваш настоящий ключ:
      ```
      API_KEY=ВАШ_GEMINI_API_КЛЮЧ
      ```
    - Вы можете получить бесплатный API-ключ в [Google AI Studio](https://aistudio.google.com/app/apikey).

4.  **Запуск приложения**
    Запустите локальный сервер разработки с помощью этой команды:
    ```bash
    npm run dev
    ```
    Ваш терминал покажет локальный URL (обычно `http://localhost:5173`). Откройте этот URL в вашем веб-браузере, чтобы использовать приложение.

## Структура проекта

- `index.html`: Главный HTML-файл. Он включает `import map` для управления модулями JavaScript.
- `index.tsx`: Точка входа для React-приложения.
- `App.tsx`: Основной компонент приложения, который управляет состоянием, макетом и взаимодействиями с пользователем.
- `components/`: Содержит все переиспользуемые React-компоненты, такие как просмотрщик журнала, лист актера, окно чата с ИИ и т.д.
- `services/`: Содержит файл `geminiService.ts`, в котором находится вся логика для взаимодействия с Google Gemini API.
- `utils/`: Включает вспомогательные функции, такие как `foundryParser.ts` для обработки специального форматирования текста Foundry.
